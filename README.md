# MetaBus  
스파르타 메타버스 제작 과제  

---

## 🧩 구조

### 전체 구조 흐름

```plaintext
┌────────────┐
│  Player    │
└────┬───────┘
     │ 이동
     ▼
┌────────────────────┐
│ InteractableObject │◄────────────┐
└────┬───────────────┘             │
     │ 상호작용                     │
     ▼                             │
┌───────────────────┐             │
│ MiniGameSelection │             │
└────┬──────────────┘             │
     │ 선택됨                     │
     ▼                             │
┌────────────────────┐       ┌───────────────┐
│    SceneLoader      │─────►│ MiniGameScene │
└────────────────────┘       └─────┬─────────┘
                                   │ 게임플레이
                                   ▼
                          ┌─────────────────────┐
                          │    ScoreManager     │
                          └────┬────────────────┘
                               │ 결과 반환
                               ▼
                      ┌────────────────────┐
                      │ GameStateManager   │
                      └────────┬───────────┘
                               │ 복귀
                               ▼
                      [공용 공간 복귀]
```
## 🧱 주요 컴포넌트 설명

### **Player**  
플레이어 캐릭터를 제어합니다. 게임 월드를 탐험하며 상호작용 가능한 오브젝트를 찾습니다.

### **InteractableObject**  
플레이어가 상호작용할 수 있는 모든 게임 오브젝트의 기본 클래스입니다. 이 오브젝트들은 미니게임 진입점 역할을 합니다.

### **MiniGameSelection**  
플레이어가 상호작용했을 때 미니게임 선택 인터페이스를 제공합니다. 다양한 미니게임 옵션을 선택할 수 있습니다.

### **SceneLoader**  
선택된 미니게임 씬을 로드하는 역할을 담당합니다. 씬 전환 효과와 로딩 상태를 관리합니다.

### **MiniGameScene**  
실제 미니게임이 진행되는 씬입니다. 각 미니게임은 고유한 규칙과 메커니즘을 가집니다.

### **ScoreManager**  
미니게임의 점수와 성과를 추적하고 관리합니다. 게임 종료 시 결과를 GameStateManager에 전달합니다.

### **GameStateManager**  
전체 게임 상태를 관리하고 미니게임에서 메인 게임으로의 전환을 처리합니다. 플레이어 진행 상황과 보상을 저장합니다.

---

## 🔄 게임 흐름

1. 플레이어가 게임 세계를 탐험하며 상호작용 가능한 오브젝트에 접근합니다.  
2. 오브젝트와 상호작용하면 미니게임 선택 메뉴가 표시됩니다.  
3. 플레이어가 미니게임을 선택하면 `SceneLoader`가 해당 미니게임 씬을 로드합니다.  
4. 미니게임을 플레이하고 `ScoreManager`가 결과를 기록합니다.  
5. 미니게임 종료 후 `GameStateManager`가 결과를 처리하고 플레이어를 메인 게임 공간으로 복귀시킵니다.

---

## 🚀 확장성

이 구조는 새로운 상호작용 오브젝트와 미니게임을 쉽게 추가할 수 있도록 설계되었습니다.  
각 컴포넌트는 독립적으로 작동하며 유연한 확장을 지원합니다.

---

## 🛠 기능

1. 메인공간 입장  
2. WASD 또는 화살표 키를 사용해 2D 캐릭터가 맵을 자유롭게 이동  
3. NPC와 상호작용하여 미니게임 플레이 기능  
4. 발판을 밟는 식으로 상호작용하여 텍스트 메시지 출력  
5. 미니게임 점수를 기록하고 UI에 실시간 표시  
6. 미니게임 종료 시 맵으로 복귀 및 결과 표시  
7. 캐릭터가 이동할 때 카메라가 자연스럽게 따라오는 기능 구현

---

## 미니게임 공통 커맨드
1. esc : 미니게임 진행중 바로 나갈 수 있습니다.
2. R : 미니게임을 재시작 할 수 있습니다.
3. E : 게임을 시작하는 키입니다.
